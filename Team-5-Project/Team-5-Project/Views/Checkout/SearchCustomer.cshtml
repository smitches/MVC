@model Team_5_Project.Models.CustomerSearchViewModel
@{
	ViewBag.Title = "SearchCustomer";
}

@{
	ViewBag.Title = "Index";
}

<h2>Index</h2>


@using (Html.BeginForm())
{
	@Html.AntiForgeryToken()

	<div class="form-horizontal">
		<h4>Customer</h4>
		<hr />
		@Html.ValidationSummary(true, "", new { @class = "text-danger" })

		<div class="form-group">
			@Html.LabelFor(model => model.AdvantageNumber, htmlAttributes: new { @class = "control-label col-md-2" })
			<div class="col-md-10">
				@Html.EditorFor(model => model.AdvantageNumber, new { htmlAttributes = new { @class = "form-control" } })
				@Html.ValidationMessageFor(model => model.AdvantageNumber, "", new { @class = "text-danger" })
			</div>
		</div>

		<div class="form-group">
			@Html.LabelFor(model => model.FirstName, htmlAttributes: new { @class = "control-label col-md-2" })
			<div class="col-md-10">
				@Html.EditorFor(model => model.FirstName, new { htmlAttributes = new { @class = "form-control" } })
				@Html.ValidationMessageFor(model => model.FirstName, "", new { @class = "text-danger" })
			</div>
		</div>

		<div class="form-group">
			@Html.LabelFor(model => model.LastName, htmlAttributes: new { @class = "control-label col-md-2" })
			<div class="col-md-10">
				@Html.EditorFor(model => model.LastName, new { htmlAttributes = new { @class = "form-control" } })
				@Html.ValidationMessageFor(model => model.LastName, "", new { @class = "text-danger" })
			</div>
		</div>

		<div class="form-group">
			<div class="col-md-offset-2 col-md-10">
				<input type="submit" value="Save" class="btn btn-default" />
			</div>
		</div>
	</div>
}

<table class="table">
	<tr>
		<th>
			@Html.DisplayNameFor(model => model.Customers.FirstOrDefault().AdvantageNumber)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.Customers.FirstOrDefault().FirstName)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.Customers.FirstOrDefault().LastName)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.Customers.FirstOrDefault().Email)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.Customers.FirstOrDefault().DOB)
		</th>

		<th></th>
	</tr>

	@foreach (var item in Model.Customers)
	{
		<tr>
			<td>
				@Html.DisplayFor(modelItem => item.AdvantageNumber)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.FirstName)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.LastName)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.Email)
			</td>

			<td>
				@Html.DisplayFor(modelItem => item.DOB)
			</td>
			<td>
				@Html.ActionLink("Select as Primary Traveler", "AttachChosen", new { id = item.Id })
			</td>
		</tr>
	}

</table>

